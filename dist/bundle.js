!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports=React},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),i=n(3);o.render(r.createElement(i.App,null),document.getElementById("example"))},function(t,e){t.exports=ReactDOM},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=n(4),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.render=function(){return i.createElement("div",null,i.createElement(a.SimilarityDetector,null))},e}(i.Component);e.App=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),l=n(5);n(9);var u=function(t){function e(){var e=t.call(this,{})||this;return e.state={differences:0,leftContent:"",rightContent:"",similarityPercent:0},e.handleLeftUpdate=e.handleLeftUpdate.bind(e),e.handleRightUpdate=e.handleRightUpdate.bind(e),e.handleLevin=e.handleLevin.bind(e),e}return o(e,t),e.prototype.handleLeftUpdate=function(t){this.setState(i({},this.state,{leftContent:t.target.value}),this.handleLevin)},e.prototype.handleRightUpdate=function(t){this.setState(i({},this.state,{rightContent:t.target.value}),this.handleLevin)},e.prototype.handleLevin=function(){var t=l.get(this.state.leftContent,this.state.rightContent),e=100*(1-t/Math.max(this.state.leftContent.length,this.state.rightContent.length));e=Math.trunc(e),this.setState(i({},this.state,{differences:t,similarityPercent:e}))},e.prototype.render=function(){return a.createElement("div",null,a.createElement("textarea",{id:"LeftText",onChange:this.handleLeftUpdate,rows:30,cols:100}),a.createElement("textarea",{id:"RightText",onChange:this.handleRightUpdate,rows:30,cols:100}),a.createElement("br",null),a.createElement("label",{id:"Similarity"},"Similarity: ",this.state.similarityPercent,"% "),a.createElement("br",null),a.createElement("label",{id:"Differences"},"Differences: ",this.state.differences))},e}(a.Component);e.SimilarityDetector=u},function(t,e,n){(function(t){var r;!function(){"use strict";var o;try{o="undefined"!=typeof Intl&&void 0!==Intl.Collator?Intl.Collator("generic",{sensitivity:"base"}):null}catch(t){console.log("Collator could not be initialized and wouldn't be used")}var i=[],a=[],l={get:function(t,e,n){var r,l,u,c,f,s,p=n&&o&&n.useCollator,d=t.length,h=e.length;if(0===d)return h;if(0===h)return d;for(u=0;u<h;++u)i[u]=u,a[u]=e.charCodeAt(u);if(i[h]=h,p)for(u=0;u<d;++u){for(l=u+1,c=0;c<h;++c)r=l,s=0===o.compare(t.charAt(u),String.fromCharCode(a[c])),(l=i[c]+(s?0:1))>(f=r+1)&&(l=f),l>(f=i[c+1]+1)&&(l=f),i[c]=r;i[c]=l}else for(u=0;u<d;++u){for(l=u+1,c=0;c<h;++c)r=l,s=t.charCodeAt(u)===a[c],(l=i[c]+(s?0:1))>(f=r+1)&&(l=f),l>(f=i[c+1]+1)&&(l=f),i[c]=r;i[c]=l}return l}};null!==n(7)&&n(8)?void 0===(r=function(){return l}.call(e,n,e,t))||(t.exports=r):null!==t&&void 0!==e&&t.exports===e?t.exports=l:"undefined"!=typeof self&&"function"==typeof self.postMessage&&"function"==typeof self.importScripts?self.Levenshtein=l:"undefined"!=typeof window&&null!==window&&(window.Levenshtein=l)}()}).call(this,n(6)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){(t.exports=n(10)(!1)).push([t.i,"textarea {\r\n    resize: none;\r\n}\r\n\r\nbody {\r\n    background-color: gray;\r\n}\r\n\r\n#Similarity,\r\n#Differences {\r\n    font-size: 2em;\r\n    color: white;\r\n}\r\n",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];null!=a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4Iiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0RE9NXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvQXBwLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TaW1pbGFyaXR5RGV0ZWN0b3IudHN4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYXN0LWxldmVuc2h0ZWluL2xldmVuc2h0ZWluLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2FtZC1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2FtZC1vcHRpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZS9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlYWN0IiwiUmVhY3RET00iLCJBcHBfMSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJBcHAiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiU2ltaWxhcml0eURldGVjdG9yXzEiLCJfc3VwZXIiLCJfX2V4dGVuZHMiLCJTaW1pbGFyaXR5RGV0ZWN0b3IiLCJDb21wb25lbnQiLCJMZXZpbiIsIl90aGlzIiwidGhpcyIsInN0YXRlIiwiZGlmZmVyZW5jZXMiLCJsZWZ0Q29udGVudCIsInJpZ2h0Q29udGVudCIsInNpbWlsYXJpdHlQZXJjZW50IiwiaGFuZGxlTGVmdFVwZGF0ZSIsImhhbmRsZVJpZ2h0VXBkYXRlIiwiaGFuZGxlTGV2aW4iLCJldmVudCIsInNldFN0YXRlIiwiX19hc3NpZ24iLCJ0YXJnZXQiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwidHJ1bmMiLCJpZCIsIm9uQ2hhbmdlIiwicm93cyIsImNvbHMiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImNvbGxhdG9yIiwiSW50bCIsIkNvbGxhdG9yIiwic2Vuc2l0aXZpdHkiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicHJldlJvdyIsInN0cjJDaGFyIiwiTGV2ZW5zaHRlaW4iLCJzdHIxIiwic3RyMiIsIm9wdGlvbnMiLCJjdXJDb2wiLCJuZXh0Q29sIiwiaiIsInRtcCIsInN0ckNtcCIsInVzZUNvbGxhdG9yIiwic3RyMUxlbiIsInN0cjJMZW4iLCJjaGFyQ29kZUF0IiwiY29tcGFyZSIsImNoYXJBdCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInVuZGVmaW5lZCIsInNlbGYiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJ3aW5kb3ciLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsImNoaWxkcmVuIiwiRXJyb3IiLCJfX3dlYnBhY2tfYW1kX29wdGlvbnNfXyIsInB1c2giLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwidG9TdHJpbmciLCJtYXAiLCJpdGVtIiwiY29udGVudCIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLG1CQ2xGQWhDLEVBQUFELFFBQUFrQyxxRkNBQSxJQUFBQSxFQUFBcEMsRUFBQSxHQUNBcUMsRUFBQXJDLEVBQUEsR0FFQXNDLEVBQUF0QyxFQUFBLEdBRUFxQyxFQUFTRSxPQUFPSCxFQUFBSSxjQUFDRixFQUFBRyxJQUFHLE1BQUtDLFNBQVNDLGVBQWUsMkJDTGpEeEMsRUFBQUQsUUFBQW1DLHdhQ0FBLElBQUFELEVBQUFwQyxFQUFBLEdBQ0E0QyxFQUFBNUMsRUFBQSxHQUVBeUMsRUFBQSxTQUFBSSxHQUFBLFNBQUFKLG1EQVFBLE9BUnlCSyxFQUFBTCxFQUFBSSxHQUNyQkosRUFBQVQsVUFBQU8sT0FBQSxXQUNJLE9BQ0lILEVBQUFJLGNBQUEsV0FDSUosRUFBQUksY0FBQ0ksRUFBQUcsbUJBQWtCLFFBSW5DTixFQVJBLENBQXlCTCxFQUFNWSxXQUFsQjlDLEVBQUF1Qyx5b0JDSGIsSUFBQUwsRUFBQXBDLEVBQUEsR0FDQWlELEVBQUFqRCxFQUFBLEdBQ0FBLEVBQUEsR0FTQSxJQUFBK0MsRUFBQSxTQUFBRixHQUNJLFNBQUFFLElBQUEsSUFBQUcsRUFDSUwsRUFBQXRDLEtBQUE0QyxLQUFNLEtBQUdBLFlBRVRELEVBQUtFLE1BQVEsQ0FDVEMsWUFBYSxFQUNiQyxZQUFhLEdBQ2JDLGFBQWMsR0FDZEMsa0JBQW1CLEdBR3ZCTixFQUFLTyxpQkFBbUJQLEVBQUtPLGlCQUFpQjdCLEtBQUtzQixHQUNuREEsRUFBS1Esa0JBQW9CUixFQUFLUSxrQkFBa0I5QixLQUFLc0IsR0FDckRBLEVBQUtTLFlBQWNULEVBQUtTLFlBQVkvQixLQUFLc0IsS0E4QmpELE9BM0N3Q0osRUFBQUMsRUFBQUYsR0FnQjVCRSxFQUFBZixVQUFBeUIsaUJBQVIsU0FBeUJHLEdBQ3JCVCxLQUFLVSxTQUFRQyxFQUFBLEdBQU1YLEtBQUtDLE1BQUssQ0FBRUUsWUFBY00sRUFBTUcsT0FBZTFDLFFBQVM4QixLQUFLUSxjQUU1RVosRUFBQWYsVUFBQTBCLGtCQUFSLFNBQTBCRSxHQUN0QlQsS0FBS1UsU0FBUUMsRUFBQSxHQUFNWCxLQUFLQyxNQUFLLENBQUVHLGFBQWVLLEVBQU1HLE9BQWUxQyxRQUFTOEIsS0FBS1EsY0FHN0VaLEVBQUFmLFVBQUEyQixZQUFSLFdBQ0ksSUFBSU4sRUFBY0osRUFBTWhDLElBQUlrQyxLQUFLQyxNQUFNRSxZQUFhSCxLQUFLQyxNQUFNRyxjQUMzREMsRUFBb0gsS0FBL0YsRUFBTUgsRUFBY1csS0FBS0MsSUFBSWQsS0FBS0MsTUFBTUUsWUFBWVksT0FBUWYsS0FBS0MsTUFBTUcsYUFBYVcsU0FDN0dWLEVBQW9CUSxLQUFLRyxNQUFNWCxHQUUvQkwsS0FBS1UsU0FBUUMsRUFBQSxHQUFNWCxLQUFLQyxNQUFLLENBQUVDLFlBQVdBLEVBQUVHLGtCQUFpQkEsTUFHakVULEVBQUFmLFVBQUFPLE9BQUEsV0FDSSxPQUNJSCxFQUFBSSxjQUFBLFdBQ0lKLEVBQUFJLGNBQUEsWUFBVTRCLEdBQUksV0FBWUMsU0FBVWxCLEtBQUtNLGlCQUFrQmEsS0FBTSxHQUFJQyxLQUFNLE1BQzNFbkMsRUFBQUksY0FBQSxZQUFVNEIsR0FBSSxZQUFhQyxTQUFVbEIsS0FBS08sa0JBQW1CWSxLQUFNLEdBQUlDLEtBQU0sTUFDN0VuQyxFQUFBSSxjQUFBLFdBQ0FKLEVBQUFJLGNBQUEsU0FBTzRCLEdBQUksNkJBQTJCakIsS0FBS0MsTUFBTUksd0JBQ2pEcEIsRUFBQUksY0FBQSxXQUNBSixFQUFBSSxjQUFBLFNBQU80QixHQUFJLCtCQUE2QmpCLEtBQUtDLE1BQU1DLGVBSW5FTixFQTNDQSxDQUF3Q1gsRUFBTVksV0FBakM5QyxFQUFBNkMsdUNDWGIsU0FBQTVDLEdBQUEsSUFBQXFFLEdBQUEsV0FDQSxhQUVBLElBQUFDLEVBQ0EsSUFDQUEsRUFBQSxvQkFBQUMsV0FBQSxJQUFBQSxLQUFBQyxTQUFBRCxLQUFBQyxTQUFBLFdBQWlIQyxZQUFBLFNBQXNCLEtBQ3BJLE1BQUFDLEdBQ0hDLFFBQUFDLElBQUEsMERBR0EsSUFBQUMsRUFBQSxHQUNBQyxFQUFBLEdBS0FDLEVBQUEsQ0FVQWpFLElBQUEsU0FBQWtFLEVBQUFDLEVBQUFDLEdBQ0EsSUFVQUMsRUFBQUMsRUFBQW5GLEVBQUFvRixFQUFBQyxFQVNBQyxFQW5CQUMsRUFBQU4sR0FBQVosR0FBQVksRUFBQU0sWUFFQUMsRUFBQVQsRUFBQWpCLE9BQ0EyQixFQUFBVCxFQUFBbEIsT0FHQSxPQUFBMEIsRUFBQSxPQUFBQyxFQUNBLE9BQUFBLEVBQUEsT0FBQUQsRUFNQSxJQUFBeEYsRUFBQSxFQUFlQSxFQUFBeUYsSUFBV3pGLEVBQzFCNEUsRUFBQTVFLEtBQ0E2RSxFQUFBN0UsR0FBQWdGLEVBQUFVLFdBQUExRixHQUtBLEdBSEE0RSxFQUFBYSxLQUdBRixFQUVBLElBQUF2RixFQUFBLEVBQW1CQSxFQUFBd0YsSUFBYXhGLEVBQUEsQ0FHaEMsSUFGQW1GLEVBQUFuRixFQUFBLEVBRUFvRixFQUFBLEVBQXFCQSxFQUFBSyxJQUFhTCxFQUNsQ0YsRUFBQUMsRUFHQUcsRUFBQSxJQUFBakIsRUFBQXNCLFFBQUFaLEVBQUFhLE9BQUE1RixHQUFBNkYsT0FBQUMsYUFBQWpCLEVBQUFPLE1BRUFELEVBQUFQLEVBQUFRLElBQUFFLEVBQUEsT0FHQUQsRUFBQUgsRUFBQSxLQUVBQyxFQUFBRSxHQUlBRixHQURBRSxFQUFBVCxFQUFBUSxFQUFBLFFBRUFELEVBQUFFLEdBSUFULEVBQUFRLEdBQUFGLEVBSUFOLEVBQUFRLEdBQUFELE9BS0EsSUFBQW5GLEVBQUEsRUFBbUJBLEVBQUF3RixJQUFheEYsRUFBQSxDQUdoQyxJQUZBbUYsRUFBQW5GLEVBQUEsRUFFQW9GLEVBQUEsRUFBcUJBLEVBQUFLLElBQWFMLEVBQ2xDRixFQUFBQyxFQUdBRyxFQUFBUCxFQUFBVyxXQUFBMUYsS0FBQTZFLEVBQUFPLElBRUFELEVBQUFQLEVBQUFRLElBQUFFLEVBQUEsT0FHQUQsRUFBQUgsRUFBQSxLQUVBQyxFQUFBRSxHQUlBRixHQURBRSxFQUFBVCxFQUFBUSxFQUFBLFFBRUFELEVBQUFFLEdBSUFULEVBQUFRLEdBQUFGLEVBSUFOLEVBQUFRLEdBQUFELEVBR0EsT0FBQUEsSUFNNkMsT0FBTnZGLEVBQUEsSUFBbUJBLEVBQUEsUUFHckRtRyxLQUZEM0IsRUFBQSxXQUNKLE9BQUFVLEdBQ0szRSxLQUFBTCxFQUFBRixFQUFBRSxFQUFBQyxRQUFBRCxRQUFBc0UsR0FHbUMsT0FBQXJFLFFBQUEsSUFBQUQsR0FBQUMsRUFBQUQsWUFDeENDLEVBQUFELFFBQUFnRixFQUdBLG9CQUFBa0IsTUFBQSxtQkFBQUEsS0FBQUMsYUFBQSxtQkFBQUQsS0FBQUUsY0FDQUYsS0FBQWxCLGNBR0Esb0JBQUFxQixRQUFBLE9BQUFBLFNBQ0FBLE9BQUFyQixlQXBJQSx1Q0NBQS9FLEVBQUFELFFBQUEsU0FBQUMsR0FvQkEsT0FuQkFBLEVBQUFxRyxrQkFDQXJHLEVBQUFzRyxVQUFBLGFBQ0F0RyxFQUFBdUcsTUFBQSxHQUVBdkcsRUFBQXdHLFdBQUF4RyxFQUFBd0csU0FBQSxJQUNBN0YsT0FBQUMsZUFBQVosRUFBQSxVQUNBYSxZQUFBLEVBQ0FDLElBQUEsV0FDQSxPQUFBZCxFQUFBRSxLQUdBUyxPQUFBQyxlQUFBWixFQUFBLE1BQ0FhLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE9BQUFkLEVBQUFDLEtBR0FELEVBQUFxRyxnQkFBQSxHQUVBckcsa0JDcEJBQSxFQUFBRCxRQUFBLFdBQ0EsVUFBQTBHLE1BQUEsbURDREEsU0FBQUMsR0FDQTFHLEVBQUFELFFBQUEyRyxvQ0NEQTFHLEVBQUFELFFBQTJCRixFQUFRLEdBQVJBLEVBQTJELElBRXRGOEcsS0FBQSxDQUFjM0csRUFBQUMsRUFBUyxvTEFBZ0wsbUNDS3ZNRCxFQUFBRCxRQUFBLFNBQUE2RyxHQUNBLElBQUFDLEVBQUEsR0FnREEsT0E5Q0FBLEVBQUFDLFNBQUEsV0FDQSxPQUFBOUQsS0FBQStELElBQUEsU0FBQUMsR0FDQSxJQUFBQyxFQStDQSxTQUFBRCxFQUFBSixHQUNBLElBQUFLLEVBQUFELEVBQUEsT0FDQUUsRUFBQUYsRUFBQSxHQUVBLElBQUFFLEVBQ0EsT0FBQUQsRUFHQSxHQUFBTCxHQUFBLG1CQUFBTyxLQUFBLENBQ0EsSUFBQUMsR0FXQUMsRUFYQUgsRUFlQSxtRUFGQUMsS0FBQUcsU0FBQUMsbUJBQUFDLEtBQUFDLFVBQUFKLE1BRUEsT0FkQUssRUFBQVIsRUFBQVMsUUFBQVosSUFBQSxTQUFBYSxHQUNBLHVCQUFBVixFQUFBVyxXQUFBRCxFQUFBLFFBRUEsT0FBQVgsR0FBQWEsT0FBQUosR0FBQUksT0FBQSxDQUFBVixJQUFBVyxLQUFBLE1BT0EsSUFBQVYsRUFKQSxPQUFBSixHQUFBYyxLQUFBLE1BL0RBQyxDQUFBaEIsRUFBQUosR0FFQSxPQUFBSSxFQUFBLEdBQ0EsVUFBQUEsRUFBQSxPQUF1Q0MsRUFBQSxJQUV2Q0EsSUFFS2MsS0FBQSxLQUlMbEIsRUFBQTVHLEVBQUEsU0FBQUUsRUFBQThILEdBQ0EsaUJBQUE5SCxJQUNBQSxFQUFBLE9BQUFBLEVBQUEsTUFLQSxJQUZBLElBQUErSCxFQUFBLEdBRUFqSSxFQUFBLEVBQW1CQSxFQUFBK0MsS0FBQWUsT0FBaUI5RCxJQUFBLENBQ3BDLElBQUFnRSxFQUFBakIsS0FBQS9DLEdBQUEsR0FFQSxNQUFBZ0UsSUFDQWlFLEVBQUFqRSxJQUFBLEdBSUEsSUFBQWhFLEVBQUEsRUFBZUEsRUFBQUUsRUFBQTRELE9BQW9COUQsSUFBQSxDQUNuQyxJQUFBK0csRUFBQTdHLEVBQUFGLEdBS0EsTUFBQStHLEVBQUEsSUFBQWtCLEVBQUFsQixFQUFBLE1BQ0FpQixJQUFBakIsRUFBQSxHQUNBQSxFQUFBLEdBQUFpQixFQUNTQSxJQUNUakIsRUFBQSxPQUFBQSxFQUFBLGFBQUFpQixFQUFBLEtBR0FwQixFQUFBRixLQUFBSyxNQUtBSCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XHJcblxyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FwcFwiO1xyXG5cclxuUmVhY3RET00ucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhhbXBsZVwiKSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RET007IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IFNpbWlsYXJpdHlEZXRlY3RvciB9IGZyb20gXCIuL1NpbWlsYXJpdHlEZXRlY3RvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDx7fSwge30+IHtcclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPFNpbWlsYXJpdHlEZXRlY3RvciAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgKiBhcyBMZXZpbiBmcm9tIFwiZmFzdC1sZXZlbnNodGVpblwiO1xyXG5pbXBvcnQgXCIuLi9zdHlsZS9pbmRleC5jc3NcIjtcclxuXHJcbmludGVyZmFjZSBTaW1pbGFyaXR5U3RhdGUge1xyXG4gICAgbGVmdENvbnRlbnQ6IHN0cmluZztcclxuICAgIHJpZ2h0Q29udGVudDogc3RyaW5nO1xyXG4gICAgc2ltaWxhcml0eVBlcmNlbnQ6IG51bWJlcjtcclxuICAgIGRpZmZlcmVuY2VzOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBTaW1pbGFyaXR5RGV0ZWN0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8e30sIFNpbWlsYXJpdHlTdGF0ZT4ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoe30pO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBkaWZmZXJlbmNlczogMCxcclxuICAgICAgICAgICAgbGVmdENvbnRlbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgIHJpZ2h0Q29udGVudDogXCJcIixcclxuICAgICAgICAgICAgc2ltaWxhcml0eVBlcmNlbnQ6IDBcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZUxlZnRVcGRhdGUgPSB0aGlzLmhhbmRsZUxlZnRVcGRhdGUuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZVJpZ2h0VXBkYXRlID0gdGhpcy5oYW5kbGVSaWdodFVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlTGV2aW4gPSB0aGlzLmhhbmRsZUxldmluLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVMZWZ0VXBkYXRlKGV2ZW50OiBSZWFjdC5DaGFuZ2VFdmVudCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyAuLi50aGlzLnN0YXRlLCBsZWZ0Q29udGVudDogKGV2ZW50LnRhcmdldCBhcyBhbnkpLnZhbHVlIH0sIHRoaXMuaGFuZGxlTGV2aW4pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBoYW5kbGVSaWdodFVwZGF0ZShldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgLi4udGhpcy5zdGF0ZSwgcmlnaHRDb250ZW50OiAoZXZlbnQudGFyZ2V0IGFzIGFueSkudmFsdWUgfSwgdGhpcy5oYW5kbGVMZXZpbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVMZXZpbigpIHtcclxuICAgICAgICBsZXQgZGlmZmVyZW5jZXMgPSBMZXZpbi5nZXQodGhpcy5zdGF0ZS5sZWZ0Q29udGVudCwgdGhpcy5zdGF0ZS5yaWdodENvbnRlbnQpO1xyXG4gICAgICAgIGxldCBzaW1pbGFyaXR5UGVyY2VudCA9ICgxLjAgLSBkaWZmZXJlbmNlcyAvIE1hdGgubWF4KHRoaXMuc3RhdGUubGVmdENvbnRlbnQubGVuZ3RoLCB0aGlzLnN0YXRlLnJpZ2h0Q29udGVudC5sZW5ndGgpKSAqIDEwMDtcclxuICAgICAgICBzaW1pbGFyaXR5UGVyY2VudCA9IE1hdGgudHJ1bmMoc2ltaWxhcml0eVBlcmNlbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgLi4udGhpcy5zdGF0ZSwgZGlmZmVyZW5jZXMsIHNpbWlsYXJpdHlQZXJjZW50IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPXtcIkxlZnRUZXh0XCJ9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUxlZnRVcGRhdGV9IHJvd3M9ezMwfSBjb2xzPXsxMDB9IC8+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9e1wiUmlnaHRUZXh0XCJ9IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVJpZ2h0VXBkYXRlfSByb3dzPXszMH0gY29scz17MTAwfSAvPlxyXG4gICAgICAgICAgICAgICAgPGJyIC8+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgaWQ9e1wiU2ltaWxhcml0eVwifT5TaW1pbGFyaXR5OiB7dGhpcy5zdGF0ZS5zaW1pbGFyaXR5UGVyY2VudH0lIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8YnIgLz5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBpZD17XCJEaWZmZXJlbmNlc1wifT5EaWZmZXJlbmNlczoge3RoaXMuc3RhdGUuZGlmZmVyZW5jZXN9PC9sYWJlbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIHZhciBjb2xsYXRvcjtcbiAgdHJ5IHtcbiAgICBjb2xsYXRvciA9ICh0eXBlb2YgSW50bCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgSW50bC5Db2xsYXRvciAhPT0gXCJ1bmRlZmluZWRcIikgPyBJbnRsLkNvbGxhdG9yKFwiZ2VuZXJpY1wiLCB7IHNlbnNpdGl2aXR5OiBcImJhc2VcIiB9KSA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycil7XG4gICAgY29uc29sZS5sb2coXCJDb2xsYXRvciBjb3VsZCBub3QgYmUgaW5pdGlhbGl6ZWQgYW5kIHdvdWxkbid0IGJlIHVzZWRcIik7XG4gIH1cbiAgLy8gYXJyYXlzIHRvIHJlLXVzZVxuICB2YXIgcHJldlJvdyA9IFtdLFxuICAgIHN0cjJDaGFyID0gW107XG4gIFxuICAvKipcbiAgICogQmFzZWQgb24gdGhlIGFsZ29yaXRobSBhdCBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldmVuc2h0ZWluX2Rpc3RhbmNlLlxuICAgKi9cbiAgdmFyIExldmVuc2h0ZWluID0ge1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZXZlbnNodGVpbiBkaXN0YW5jZSBvZiB0aGUgdHdvIHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RyMSBTdHJpbmcgdGhlIGZpcnN0IHN0cmluZy5cbiAgICAgKiBAcGFyYW0gc3RyMiBTdHJpbmcgdGhlIHNlY29uZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIFtvcHRpb25zXSBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIFtvcHRpb25zLnVzZUNvbGxhdG9yXSBVc2UgYEludGwuQ29sbGF0b3JgIGZvciBsb2NhbGUtc2Vuc2l0aXZlIHN0cmluZyBjb21wYXJpc29uLlxuICAgICAqIEByZXR1cm4gSW50ZWdlciB0aGUgbGV2ZW5zaHRlaW4gZGlzdGFuY2UgKDAgYW5kIGFib3ZlKS5cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHN0cjEsIHN0cjIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciB1c2VDb2xsYXRvciA9IChvcHRpb25zICYmIGNvbGxhdG9yICYmIG9wdGlvbnMudXNlQ29sbGF0b3IpO1xuICAgICAgXG4gICAgICB2YXIgc3RyMUxlbiA9IHN0cjEubGVuZ3RoLFxuICAgICAgICBzdHIyTGVuID0gc3RyMi5sZW5ndGg7XG4gICAgICBcbiAgICAgIC8vIGJhc2UgY2FzZXNcbiAgICAgIGlmIChzdHIxTGVuID09PSAwKSByZXR1cm4gc3RyMkxlbjtcbiAgICAgIGlmIChzdHIyTGVuID09PSAwKSByZXR1cm4gc3RyMUxlbjtcblxuICAgICAgLy8gdHdvIHJvd3NcbiAgICAgIHZhciBjdXJDb2wsIG5leHRDb2wsIGksIGosIHRtcDtcblxuICAgICAgLy8gaW5pdGlhbGlzZSBwcmV2aW91cyByb3dcbiAgICAgIGZvciAoaT0wOyBpPHN0cjJMZW47ICsraSkge1xuICAgICAgICBwcmV2Um93W2ldID0gaTtcbiAgICAgICAgc3RyMkNoYXJbaV0gPSBzdHIyLmNoYXJDb2RlQXQoaSk7XG4gICAgICB9XG4gICAgICBwcmV2Um93W3N0cjJMZW5dID0gc3RyMkxlbjtcblxuICAgICAgdmFyIHN0ckNtcDtcbiAgICAgIGlmICh1c2VDb2xsYXRvcikge1xuICAgICAgICAvLyBjYWxjdWxhdGUgY3VycmVudCByb3cgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyByb3cgdXNpbmcgY29sbGF0b3JcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cjFMZW47ICsraSkge1xuICAgICAgICAgIG5leHRDb2wgPSBpICsgMTtcblxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBzdHIyTGVuOyArK2opIHtcbiAgICAgICAgICAgIGN1ckNvbCA9IG5leHRDb2w7XG5cbiAgICAgICAgICAgIC8vIHN1YnN0dXRpb25cbiAgICAgICAgICAgIHN0ckNtcCA9IDAgPT09IGNvbGxhdG9yLmNvbXBhcmUoc3RyMS5jaGFyQXQoaSksIFN0cmluZy5mcm9tQ2hhckNvZGUoc3RyMkNoYXJbal0pKTtcblxuICAgICAgICAgICAgbmV4dENvbCA9IHByZXZSb3dbal0gKyAoc3RyQ21wID8gMCA6IDEpO1xuXG4gICAgICAgICAgICAvLyBpbnNlcnRpb25cbiAgICAgICAgICAgIHRtcCA9IGN1ckNvbCArIDE7XG4gICAgICAgICAgICBpZiAobmV4dENvbCA+IHRtcCkge1xuICAgICAgICAgICAgICBuZXh0Q29sID0gdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVsZXRpb25cbiAgICAgICAgICAgIHRtcCA9IHByZXZSb3dbaiArIDFdICsgMTtcbiAgICAgICAgICAgIGlmIChuZXh0Q29sID4gdG1wKSB7XG4gICAgICAgICAgICAgIG5leHRDb2wgPSB0bXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvcHkgY3VycmVudCBjb2wgdmFsdWUgaW50byBwcmV2aW91cyAoaW4gcHJlcGFyYXRpb24gZm9yIG5leHQgaXRlcmF0aW9uKVxuICAgICAgICAgICAgcHJldlJvd1tqXSA9IGN1ckNvbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjb3B5IGxhc3QgY29sIHZhbHVlIGludG8gcHJldmlvdXMgKGluIHByZXBhcmF0aW9uIGZvciBuZXh0IGl0ZXJhdGlvbilcbiAgICAgICAgICBwcmV2Um93W2pdID0gbmV4dENvbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBjdXJyZW50IHJvdyBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHJvdyB3aXRob3V0IGNvbGxhdG9yXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHIxTGVuOyArK2kpIHtcbiAgICAgICAgICBuZXh0Q29sID0gaSArIDE7XG5cbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RyMkxlbjsgKytqKSB7XG4gICAgICAgICAgICBjdXJDb2wgPSBuZXh0Q29sO1xuXG4gICAgICAgICAgICAvLyBzdWJzdHV0aW9uXG4gICAgICAgICAgICBzdHJDbXAgPSBzdHIxLmNoYXJDb2RlQXQoaSkgPT09IHN0cjJDaGFyW2pdO1xuXG4gICAgICAgICAgICBuZXh0Q29sID0gcHJldlJvd1tqXSArIChzdHJDbXAgPyAwIDogMSk7XG5cbiAgICAgICAgICAgIC8vIGluc2VydGlvblxuICAgICAgICAgICAgdG1wID0gY3VyQ29sICsgMTtcbiAgICAgICAgICAgIGlmIChuZXh0Q29sID4gdG1wKSB7XG4gICAgICAgICAgICAgIG5leHRDb2wgPSB0bXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWxldGlvblxuICAgICAgICAgICAgdG1wID0gcHJldlJvd1tqICsgMV0gKyAxO1xuICAgICAgICAgICAgaWYgKG5leHRDb2wgPiB0bXApIHtcbiAgICAgICAgICAgICAgbmV4dENvbCA9IHRtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29weSBjdXJyZW50IGNvbCB2YWx1ZSBpbnRvIHByZXZpb3VzIChpbiBwcmVwYXJhdGlvbiBmb3IgbmV4dCBpdGVyYXRpb24pXG4gICAgICAgICAgICBwcmV2Um93W2pdID0gY3VyQ29sO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGNvcHkgbGFzdCBjb2wgdmFsdWUgaW50byBwcmV2aW91cyAoaW4gcHJlcGFyYXRpb24gZm9yIG5leHQgaXRlcmF0aW9uKVxuICAgICAgICAgIHByZXZSb3dbal0gPSBuZXh0Q29sO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dENvbDtcbiAgICB9XG5cbiAgfTtcblxuICAvLyBhbWRcbiAgaWYgKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTGV2ZW5zaHRlaW47XG4gICAgfSk7XG4gIH1cbiAgLy8gY29tbW9uanNcbiAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUgIT09IG51bGwgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IExldmVuc2h0ZWluO1xuICB9XG4gIC8vIHdlYiB3b3JrZXJcbiAgZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHNlbGYucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNlbGYuTGV2ZW5zaHRlaW4gPSBMZXZlbnNodGVpbjtcbiAgfVxuICAvLyBicm93c2VyIG1haW4gdGhyZWFkXG4gIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93ICE9PSBudWxsKSB7XG4gICAgd2luZG93LkxldmVuc2h0ZWluID0gTGV2ZW5zaHRlaW47XG4gIH1cbn0oKSk7XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG5cdHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTtcbn07XG4iLCIvKiBnbG9iYWxzIF9fd2VicGFja19hbWRfb3B0aW9uc19fICovXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19hbWRfb3B0aW9uc19fO1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJ0ZXh0YXJlYSB7XFxyXFxuICAgIHJlc2l6ZTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyYXk7XFxyXFxufVxcclxcblxcclxcbiNTaW1pbGFyaXR5LFxcclxcbiNEaWZmZXJlbmNlcyB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMmVtO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxufVxcclxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiAnQG1lZGlhICcgKyBpdGVtWzJdICsgJ3snICsgY29udGVudCArICd9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSAnKCcgKyBpdGVtWzJdICsgJykgYW5kICgnICsgbWVkaWFRdWVyeSArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJztcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcbiAgcmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn0iXSwic291cmNlUm9vdCI6IiJ9